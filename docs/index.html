<!DOCTYPE html>
<html>
<head>
    <title>DFM Stock Data</title>
    <meta http-equiv="refresh" content="300">
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; vertical-align: middle; }
        th { background-color: #f2f2f2; }
        .logo { height: 40px; width: auto; vertical-align: middle; margin-right: 10px; }
        .stock-row { display: flex; align-items: center; }
    </style>
</head>
<body>
    <h1>DFM Stock Data</h1>
    <p>Last updated: <span id="lastUpdate"></span></p>
    <p><a href="stocks.csv">Download CSV</a></p>
    
    <table id="stockTable">
        <thead>
            <tr>
                <th>Company</th>
                <th>Symbol</th>
                <th>Price (AED)</th>
                <th>Change</th>
                <th>Change %</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><img src="images/salik-logo.png" alt="SALIK" class="logo"> SALIK</td>
                <td>SALIK</td>
                <td class="salik-price"></td>
                <td class="salik-change"></td>
                <td class="salik-change-pct"></td>
            </tr>
            <tr>
                <td><img src="images/dtc-logo.jpg" alt="DTC" class="logo"> DTC</td>
                <td>DTC</td>
                <td class="dtc-price"></td>
                <td class="dtc-change"></td>
                <td class="dtc-change-pct"></td>
            </tr>
        </tbody>
    </table>
    
    <script>
        fetch('stocks.csv')
            .then(response => response.text())
            .then(data => {
                const lines = data.split('\n');
                const stocks = {};
                
                // Parse CSV data
                for(let i = 1; i < lines.length; i++) {
                    if(lines[i].trim()) {
                        const [symbol, price, change, changePct] = lines[i].split(',');
                        stocks[symbol] = { price, change, changePct };
                    }
                }
                
                // Update SALIK data
                if(stocks.SALIK) {
                    document.querySelector('.salik-price').textContent = stocks.SALIK.price;
                    document.querySelector('.salik-change').textContent = stocks.SALIK.change;
                    document.querySelector('.salik-change-pct').textContent = stocks.SALIK.changePct + '%';
                }
                
                // Update DTC data
                if(stocks.DTC) {
                    document.querySelector('.dtc-price').textContent = stocks.DTC.price;
                    document.querySelector('.dtc-change').textContent = stocks.DTC.change;
                    document.querySelector('.dtc-change-pct').textContent = stocks.DTC.changePct + '%';
                }
                
                document.getElementById('lastUpdate').textContent = new Date().toLocaleString();
            });
    </script>
</body>
</html> 